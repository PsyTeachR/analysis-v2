<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 Starting with R Markdown | Analysis</title>
<meta name="author" content="Phil McAleer, Carolina E. Kuepper-Tetzel, Helena Paterson">
<meta name="description" content="1.1 Overview A key goal of any researcher is to carry out an experiment and to tell others about it. One of the main ways we as Psychologists do this is through publication of journal articles....">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 1 Starting with R Markdown | Analysis">
<meta property="og:type" content="book">
<meta property="og:url" content="https://psyteachr.github.io/analysis-v2/starting-with-r-markdown.html">
<meta property="og:image" content="https://psyteachr.github.io/analysis-v2/images/logos/logo.png">
<meta property="og:description" content="1.1 Overview A key goal of any researcher is to carry out an experiment and to tell others about it. One of the main ways we as Psychologists do this is through publication of journal articles....">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 1 Starting with R Markdown | Analysis">
<meta name="twitter:description" content="1.1 Overview A key goal of any researcher is to carry out an experiment and to tell others about it. One of the main ways we as Psychologists do this is through publication of journal articles....">
<meta name="twitter:image" content="https://psyteachr.github.io/analysis-v2/images/logos/logo.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NP3MF25W3');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Analysis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li><a class="active" href="starting-with-r-markdown.html"><span class="header-section-number">1</span> Starting with R Markdown</a></li>
<li><a class="" href="data-wrangling-a-key-skill.html"><span class="header-section-number">2</span> Data-Wrangling: A Key Skill</a></li>
<li><a class="" href="data-visualisation-through-ggplot2.html"><span class="header-section-number">3</span> Data Visualisation Through ggplot2</a></li>
<li><a class="" href="revisiting-probability-distributions.html"><span class="header-section-number">4</span> Revisiting Probability Distributions</a></li>
<li><a class="" href="nhst-binomial-test-and-one-sample-t-test.html"><span class="header-section-number">5</span> NHST: Binomial test and One-Sample t-test</a></li>
<li><a class="" href="nhst-two-sample-t-test.html"><span class="header-section-number">6</span> NHST: Two-Sample t-test</a></li>
<li><a class="" href="nhst-paired-sample-t-test-and-nonparametric-tests.html"><span class="header-section-number">7</span> NHST: Paired-Sample t-test and Nonparametric tests</a></li>
<li><a class="" href="apes---alpha-power-effect-sizes-sample-size.html"><span class="header-section-number">8</span> APES - Alpha, Power, Effect Sizes, Sample Size</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="acknowledgements.html">Acknowledgements</a></li>
<li><a class="" href="installing-r.html"><span class="header-section-number">A</span> Installing R</a></li>
<li><a class="" href="updating-r-rstudio-and-packages.html"><span class="header-section-number">B</span> Updating R, RStudio, and packages</a></li>
<li><a class="" href="exporting-files-from-the-server.html"><span class="header-section-number">C</span> Exporting files from the server</a></li>
<li><a class="" href="symbols.html"><span class="header-section-number">D</span> Symbols</a></li>
<li><a class="" href="license.html">License</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/psyteachr/analysis-v2">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="starting-with-r-markdown" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Starting with R Markdown<a class="anchor" aria-label="anchor" href="#starting-with-r-markdown"><i class="fas fa-link"></i></a>
</h1>
<div id="overview-1" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Overview<a class="anchor" aria-label="anchor" href="#overview-1"><i class="fas fa-link"></i></a>
</h2>
<p>A key goal of any researcher is to carry out an experiment and to tell others about it. One of the main ways we as Psychologists do this is through publication of journal articles. There are numerous ways that people combine different software to create a journal article, but a more recent innovation in the field that we want you to know about is creating reports and articles through R Markdown. If you like, you can see an example from a research team in our school in this <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0185093" target="_blank">recent PLOS article</a>. A link within the article methods section (this one - <a href="https://osf.io/eb9dq/" target="_blank">https://osf.io/eb9dq/</a>) allows you to see the one file that creates the whole manuscript. Obviously you won't be writing full journal articles just yet, but you will use R Markdown throughout this lab series to do assignments. You could also use it in other subjects to write reports, or to make yourself a portfolio of hints, tips, and study aids as we suggest throughout the labs.</p>
<p>Today, we will start by showing you some of skills in using R Markdown efficiently.</p>
<p><strong>In this chapter you will learn:</strong></p>
<ol style="list-style-type: decimal">
<li>What is R Markdown?</li>
<li>How to create an R Markdown file and knit it.</li>
<li>How to add code and edit rules in your R Markdown file.</li>
<li>How to format your text.</li>
</ol>
<div id="what-is-r-markdown" class="section level3" number="1.1.1">
<h3>
<span class="header-section-number">1.1.1</span> What is R Markdown?<a class="anchor" aria-label="anchor" href="#what-is-r-markdown"><i class="fas fa-link"></i></a>
</h3>
<p>R Markdown (abbreviated as Rmd) is a great way to create dynamic documents through embedded chunks of code. These documents are self-contained and fully reproducible which makes it very easy to share. For more information about R Markdown, feel free to have a look at their main webpage sometime: <a href="http://rmarkdown.rstudio.com" target="_blank">The R Markdown Webpage</a>. The key advantage of R Markdown is that it allows you to write code into a document, along with regular text, and then <strong>knit</strong> it using the package <code>knitr()</code> to create your document as either a webpage (HTML), a PDF, or Word document (.docx).</p>
<div class="webex-solution">
<button>
Explain This - We Knit what?
</button>
<div class="info">
<p>
Throughout the labs you will see little tabs that give more information, answers to quick questions, helpful hints, solutions to tasks, or suggestions for information you want to note down somewhere. You do not have to read them all and you will find they get less as the course progresses, but they might help you if you are stuck on something.
</p>
<p>
Knit is what we say when we want to turn our R Markdown file into either a webpage, PDF, or a Word document. Often in the labs you will hear someone say, "Have you tried knitting it?" or "What happens when you knit it?". This simply means what happens when you try turning your file into a pdf or webpage.
</p>
<p>
For any of the practical data assignments, one check to run before submitting is to knit your code to an html (webpage) file and then see if you can open that file in your browser. This doesn't check that your code is correct. It does however confirm that your code runs and has no critical issues in it that would stop your code from running. A very valuable check.
</p>
</div>
</div>
</div>
<div id="advantages-of-using-r-markdown" class="section level3" number="1.1.2">
<h3>
<span class="header-section-number">1.1.2</span> Advantages of using R Markdown<a class="anchor" aria-label="anchor" href="#advantages-of-using-r-markdown"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>The output is one file that includes figures, text, and citations. No additional files are needed so it's easy to keep all your work in one place.</p></li>
<li><p>R code can be put directly into an R Markdown report, so it is not necessary to keep your writing (e.g., a Word document) and your analysis (e.g., your R script) separate.</p></li>
<li><p>Including the R code directly lets others see how you did your analysis - this is a good thing for science! It is both reproducible and transparent, key components of Open Science!</p></li>
<li><p>You write your report in plain text, a non software-specific format that is easy to share, so it's not necessary to learn any new coding language such as HTML, but can create various outputs depending on what you need.</p></li>
</ol>
</div>
<div id="creating-an-r-markdown-.rmd-file" class="section level3" number="1.1.3">
<h3>
<span class="header-section-number">1.1.3</span> Creating an R Markdown (.Rmd) File<a class="anchor" aria-label="anchor" href="#creating-an-r-markdown-.rmd-file"><i class="fas fa-link"></i></a>
</h3>
<p>In this chapter you're going to create your own R Markdown document. Knowing how to do this will:</p>
<ol style="list-style-type: lower-alpha">
<li>help you navigate R Markdown.</li>
<li>show you how to create homework assignment documents.</li>
<li>help you to create your own reports using it.</li>
</ol>
<p>If at any point you are unsure about how to do something remember to think about where you can get help, do what we do, google it (there are R markdown cheat sheets on the internet). For example, if you forget how to put words in bold, you could simply go to Google and type "<strong>rmarkdown bold</strong>" and no doubt get a lot of useful hints. There is nothing wrong with this. Nobody is expecting you to keep every function in your head; we all need reminders. You will find some elements stick in your head better than others. So remember, Google is your friend!</p>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Quickfire Questions</span></p>
<p>We have put questions throughout to help you test your knowledge. When you type in or choose the correct answer, the dashed box will change color and become solid.</p>
<ul>
<li>From the following options, why are we creating an R Markdown document instead of simply using an R script? <select class="webex-select"><option value="blank"></option>
<option value="answer">R Markdown can combine report writing and analysis</option>
<option value="">R Scripts can't run code</option>
<option value="answer">Reproducible Science!</option></select>
</li>
</ul>
<div class="webex-solution">
<button>
Explain This Answer!
</button>
<div class="info">
<p>
So there's more than one answer to this question! R Markdown can combine report writing and analysis, providing open access for others to examine data, and create more Reproducible Science. But what about the incorrect answer? R Scripts do in fact run R code as you may remember from Level 1 labs. The key difference is that R Scripts cannot really be used for documentation and creating reports as easily - this is where R Markdown is used to ensure your code can be added to all the other information of your research and can be reproduced by others.
</p>
</div>
</div>
</div>
<div id="one-last-thing-before-beginning" class="section level3" number="1.1.4">
<h3>
<span class="header-section-number">1.1.4</span> One last thing before beginning!<a class="anchor" aria-label="anchor" href="#one-last-thing-before-beginning"><i class="fas fa-link"></i></a>
</h3>
<p>Remember: You can always go back to the <a href="https://psyteachr.github.io/data-skills-v1/" target="_blank">Data Skills Book</a> from Level 1 to remind you about the skills we want you have already learned through using R and RStudio. The first few chapters in this book will partly overlap with what you have learned previously, but will further extend on your skills and knowledge.</p>

</div>
</div>
<div id="r-markdown-basics" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> R Markdown Basics<a class="anchor" aria-label="anchor" href="#r-markdown-basics"><i class="fas fa-link"></i></a>
</h2>
<p>Having read the Overview for this chapter, and the reason behind using R, we are now going work on making a reproducible code. If you have a laptop, it is best to install R and Rstudio on that for you to use. In the Appendix below you will find a reminder of how to install R and Rstudio.</p>
<div id="create-a-new-r-markdown-document" class="section level3" number="1.2.1">
<h3>
<span class="header-section-number">1.2.1</span> Create a new R Markdown document<a class="anchor" aria-label="anchor" href="#create-a-new-r-markdown-document"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Create a new R Markdown file (.Rmd) by opening Rstudio, and then on the top menu, selecting <strong><code>File &gt;&gt; New File &gt;&gt; R Markdown...</code></strong>. You should now see the following dialog box:</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-rmarkdown-dialog"></span>
<img src="images/s01-lab01/preclass/rmd_dialog.png" alt="Starting an R Markdown file" width="50%"><p class="caption">
Figure 1.1: Starting an R Markdown file
</p>
</div>
<ul>
<li>Click <strong><code>Document</code></strong> on the left-hand panel and then give your document a <strong>Title</strong>.</li>
</ul>
<p>This is your file so call it what you want but make sure it is informative to you and your reader.</p>
<ul>
<li>Put your name or your student ID in the <strong>Author</strong> field as you are the author. For now we will focus on making an <strong>HTML</strong> output, so make sure that is selected as shown in Figure <a href="starting-with-r-markdown.html#fig:img-rmarkdown-dialog">1.1</a> then hit <strong><code>OK</code></strong> when you have done so. You should now have an .Rmd file open in Rstudio.</li>
</ul>
<p>The first thing you will see in your R Markdown file is a header section enclosed at the top and bottom by <code>---</code>. Technically called the <strong>yaml header</strong>, this section lists the title, author, date and output format. The layout of the header is very precise and will look like that shown in Figure <a href="starting-with-r-markdown.html#fig:img-yaml-header">1.2</a>, which is currently set to output as HTML.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-yaml-header"></span>
<img src="images/s01-lab01/preclass/rmd_header.png" alt="An Rmd yaml header" width="50%"><p class="caption">
Figure 1.2: An Rmd yaml header
</p>
</div>
<p>By default the file header includes the info shown in Figure <a href="starting-with-r-markdown.html#fig:img-yaml-header">1.2</a> but there are many other options available. You can learn more about this in your spare time if you like through these links for
<a href="http://rmarkdown.rstudio.com/html_document_format.html"><strong>.html</strong> options</a>{_target="_blank"} or
<a href="http://rmarkdown.rstudio.com/pdf_document_format.html" target="_blank"><strong>.pdf</strong> options</a>.</p>
<div class="try">
<p>
<strong>BUT WAIT</strong>!! What if you spelt your name wrong? How would you change this?
</p>
</div>
<div class="webex-solution">
<button>
Explain This - I spelt my name wrong!
</button>
<div class="info">
<p>
The long way would be to close the file and start again. The shorter way would be to just correct the info in the header - just remember to keep between the quotes. E.g. "Si Cologe" instead of "Untitled"
</p>
</div>
</div>
</div>
<div id="code-chunks" class="section level3" number="1.2.2">
<h3>
<span class="header-section-number">1.2.2</span> Code Chunks<a class="anchor" aria-label="anchor" href="#code-chunks"><i class="fas fa-link"></i></a>
</h3>
<p>Immediately below the header information you will see the default setup <strong>code chunk</strong> as shown in Figure <a href="starting-with-r-markdown.html#fig:img-setup-chunk">1.3</a>. Most of the time, in this lab series, you will not edit the information in this <a class="glossary" target="_blank" title="A section of code in an R Markdown file" href="https://psyteachr.github.io/glossary/c#chunk">chunk</a>. Instead, you will add information, text, code, and chunks, below this chunk.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-setup-chunk"></span>
<img src="images/s01-lab01/preclass/rmd_defaultchunk.png" alt="The defualt setup code chunk" width="100%"><p class="caption">
Figure 1.3: The defualt setup code chunk
</p>
</div>
<p>In RMarkdown you can type any text you want directly in the document just as you would in a word document. However, if you want to include code you need to include it in one of these <strong>code chunks</strong> similar to Figure <a href="starting-with-r-markdown.html#fig:img-setup-chunk">1.3</a>. Code chunks start with a line that contains three backwards apostrophes <strong>`</strong> (these are called grave accents - often in the top-left of QWERTY keyboards), and then a set of curly brackets with the letter r inside:</p>
<div class="verbatim">
<pre class="sourceCode r"><code class="sourceCode R">```{r}</code></pre>
<pre class="sourceCode r"><code class="sourceCode R">```</code></pre>
</div>
<p>You will <strong>always</strong> need both of these parts to create a code chunk:</p>
<ul>
<li>The three back ticks <strong>`</strong> are the part of the Rmd file that says this is code being inserted into my document.</li>
<li>The {r} part says that you are specifically including R code.</li>
</ul>
<p>The default setup code chunk provides some basic options for your R Markdown file for when it knits your work. As above, for now, it is best to leave this particular code chunk alone. Instead we will show you how to use R Markdown by editing the code chunks that come after this default chunk.</p>
<p>The next code chunk in your file will look a bit like this:</p>
<div class="verbatim">
<pre class="sourceCode r"><code class="sourceCode R">```{r cars}</code></pre>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></code></pre></div>
<pre class="sourceCode r"><code class="sourceCode R">```</code></pre>
</div>
<p>Within the curly brackets, on the first line of the chunk, the word <code>cars</code> is included after the letter <code>r</code>. This is simply the <strong>name</strong> or the <strong>label</strong> for the code chunk and it really could have been called anything. For example, you could have called this code chunk <code>cars1</code> and a later chunk <code>cars2</code> to show it was the first and second chunk relating to cars. Whilst it is always advisable you name your code chunks, you do not need to name them. However, if you do put in names for the chunks <strong>do not use the same name twice</strong> as this will cause your script to crash when you knit it, e.g. Do not use <code>data</code> and <code>data</code>; instead maybe use <code>personality-data</code> and <code>participant-info</code> or whatever makes sense to what you are doing in the chunk. OK? Different names for different chunks! They are all individual.</p>
<div class="webex-solution">
<button>
Explain This - You can crash whilst knitting?
</button>
<div class="info">
<p>
Remember knitting just means converting or rendering your file as a pdf, webpage, etc. Crashing means that you had an error in your code that stopped your knitting from working or finishing. You can usually find the problem line of code from the error message you'll see.
</p>
</div>
</div>
<p><br>
The second line in the above <strong>code chunk</strong> is the R code we have written: <code><a href="https://rdrr.io/r/base/summary.html">summary(cars)</a></code>. In this case, we are just asking for a <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> of the inbuilt dataset <code>cars</code>. R has a lot of inbuilt datasets for you to practice on; <code>cars</code> is one of these.</p>
<p>The third line closes off the code chunk, again with the three backwards apostrophes. This means that whatever is contained between the first and third lines will be the code that is run.</p>
<div class="webex-solution">
<button>
Helpful Hint - Be sure to close the chunk
</button>
<div class="info">
<p>
When people are first starting out using R Markdown, a common issue is code not working because they have started the code chunk correctly, but have forgotten to close it at the bottom with the three backticks. Remember, three backticks to open, three backticks to close, and in our chunk we bind them.
</p>
</div>
</div>
<p><br></p>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Quickfire Questions</span></p>
<ul>
<li>From the following options what was the name, or label, of the <strong>default setup code chunk</strong> (i.e. the first code chunk in an R Markdown file)? <select class="webex-select"><option value="blank"></option>
<option value="">include</option>
<option value="">r</option>
<option value="answer">setup</option>
<option value="">FALSE</option></select>
</li>
</ul>
<div class="webex-solution">
<button>
Explain This Answer
</button>
<div class="info">
<p>
If you look at the default setup code chunk you can see the code chunk has the name setup. include=FALSE is a rule which we will explain in a little bit.
</p>
</div>
</div>
</div>
<div id="knitting-code" class="section level3" number="1.2.3">
<h3>
<span class="header-section-number">1.2.3</span> Knitting Code<a class="anchor" aria-label="anchor" href="#knitting-code"><i class="fas fa-link"></i></a>
</h3>
<p>Now would be a good time to try knitting your file to see what the code chunks do. You can do this using the <strong>Knit button</strong> at the top of the RStudio screen:</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-the-knit-button"></span>
<img src="images/s01-lab01/preclass/rmd_knit.png" alt="The knit button. Clicking this will knit your file." width="75%"><p class="caption">
Figure 1.4: The knit button. Clicking this will knit your file.
</p>
</div>
<p>When you click <code>Knit</code> it will ask you to save the file as an .Rmd file. Call the file <code>L2Psych_Ch1_RMarkdownBasics.Rmd</code> and save it in a folder where you will keep all the information for this lab. When working in the Psychology labs or the University Library you need to save in a location or drive space that you have full access to and can save files to. The best one on campus is your <code>M:</code> drive. If using your own device then anywhere you can save the file should work. However, having a good folder structure will help you navigate the labs better.</p>
<div class="webex-solution">
<button>
Helpful Hint - One folder for all your work
</button>
<div class="info">
<p>
It would be very beneficial to create a folder in your <code>M:</code> drive that will contain all your data skills work for the rest of Level 2. Maybe something like <code>Psychology_Level2_DataSkills_Work</code> and then have folders within that for each lab, e.g <code>Chapter1</code>. The clearer the structure of these folders the easier it will be to find and use your files again! This is important as one thing we will keep telling you to do is <strong>LOOK BACK</strong> (politely) at what you previously did.
</p>
<p>
Couple of tips:
</p>
<ul>
<li>
Avoid spaces in file names and folder names. It can make life really complicated and is a bad habit to start with. Use underscores between words in filenames and folder names.
</li>
<li>
Never call your folder "R". This will crash your R and potentially lead you to having to reinstall both R and Rstudio. When Rstudio opens it looks for a folder called R which it expects to contain the software and libraries. If they aren't there because it is now looking in a different folder with the same name, things go wrong.
</li>
</ul>
</div>
</div>
<p><br>
After saving the file, a webpage should appear. The first thing to notice is that some lines in the code chunks have disappeared: the <code>```{r}</code> and the closing <code>```</code> in your code chunk have gone. Whenever you knit an R Markdown file these lines will disappear leaving only the code within. You'll also notice that the output of the code is also now showing in your webpage. In the next section we will show you how to control showing the output of your code, or not, through adding rules.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-rmd-summary2"></span>
<img src="images/s01-lab01/preclass/rmd_summary2.png" alt="The knitted summary output" width="100%"><p class="caption">
Figure 1.5: The knitted summary output
</p>
</div>
</div>
<div id="adding-code-chunk-rules-and-options" class="section level3" number="1.2.4">
<h3>
<span class="header-section-number">1.2.4</span> Adding Code Chunk Rules and Options<a class="anchor" aria-label="anchor" href="#adding-code-chunk-rules-and-options"><i class="fas fa-link"></i></a>
</h3>
<p>It can often be a good idea or even necessary to show the data or the outcome of a test in your report, for example if you were writing a report and wanted to include a table of results. But what if your code displayed a table that was 10,000 lines long? In that case we might want to not show the output and only show the code. You can do this by including a rule within the first line of your code chunk - your ```{r name, rule = option} line. You have already seen a rule before in the standard default chunk, the <code>include</code> rule, but there are a number of others. Let's look at some now:</p>
<p>First, let's look at how to <strong>hide the output but show the code</strong>. Here, we use the <code>results = "hide"</code> rule:</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-results-hide"></span>
<img src="images/s01-lab01/preclass/rmd_hide.png" alt="The results Rule" width="100%"><p class="caption">
Figure 1.6: The results Rule
</p>
</div>
<p><br><strong>Add this rule into your example code chunk, as shown above, and knit the file again. What happens?</strong> Note that there is a comma separating the name of the chunk and the rule. You should now see the code only and not the data. A key thing to note here is that your code is still "running", it just isn't showing an output. For example, say your code said <code>x &lt;- 2 + 2</code>. With the <code>results = "hide"</code> rule, you would still be running that line of code, x being assigned as 4, but you just don't see the output.
<br><br>
Alternatively, we can <strong>hide the code, but show the ouput</strong> by using the <code>echo = FALSE</code> rule:</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-echo-hide"></span>
<img src="images/s01-lab01/preclass/rmd_echo.png" alt="The echo Rule" width="100%"><p class="caption">
Figure 1.7: The echo Rule
</p>
</div>
<p><br>
In your template Rmd file, the rule echo is set to <code>FALSE</code> meaning to show the figure and not the code. <strong>Change the rule in your code to <code>echo</code> and set it as <code>TRUE</code>, then knit the file again</strong>. What happens?</p>
<div class="webex-solution">
<button>
Explain This - Why would I hide my code?
</button>
<div class="info">
<p>
Remember from Level 1 where we called in libraries to our environment. The "echo = FALSE" option is useful for commands like <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> when you are just calling a package into the library but don't necessarily want to display that in your final report or in your final HTML file. Another example might be if you wanted to make a plot but didn't want to include the code, you just want to show the plot in your report.
</p>
</div>
</div>
<p><br>
Next, say you want to <strong>hide both the code AND the output</strong> but still run the code. You can do this using the <code>include</code> rule:</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-include-hide"></span>
<img src="images/s01-lab01/preclass/rmd_hide_both.png" alt="The include Rule" width="100%"><p class="caption">
Figure 1.8: The include Rule
</p>
</div>
<p><br><strong>Change the rule to your example code chunk, as shown above, to <code>include = FALSE</code> and then knit the file again</strong>. What happens? Note that here the code still runs. It just does not show you anything.</p>
<p>Finally, you can use the <code>eval</code> rule which specifies whether or not you want the code chunk you have written to be evaluated when you knit the RMarkdown file. Evaluated means to run or carry out the code. Here, the <code>eval = FALSE</code> rule will stop the code from being evaluated. The code will be shown because there is no rule stopping it but there will be no output because it won't get evaluated because of the <code>eval</code> rule being <code>FALSE</code>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-eval-hide"></span>
<img src="images/s01-lab01/preclass/rmd_eval.png" alt="The eval Rule" width="100%"><p class="caption">
Figure 1.9: The eval Rule
</p>
</div>
<p><br>
This might be useful in cases where you want to show the code relating to how you programmed your stimuli for an experiment, but you don't necessarily want it to run as part of the R Markdown file.
<br><br>
We could probably do with a wee summary here:
<br></p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:chp1-secret-table-disp">Table 1.1: </span>Rules! Rules! Rules!</caption>
<thead><tr class="header">
<th align="center">Code</th>
<th align="center">Does Code Run</th>
<th align="center">Does Code Show</th>
<th align="center">Do Results Show</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">eval = FALSE</td>
<td align="center">NO</td>
<td align="center">YES</td>
<td align="center">NO</td>
</tr>
<tr class="even">
<td align="center">echo = TRUE</td>
<td align="center">YES</td>
<td align="center">YES</td>
<td align="center">YES</td>
</tr>
<tr class="odd">
<td align="center">echo = FALSE</td>
<td align="center">YES</td>
<td align="center">NO</td>
<td align="center">YES</td>
</tr>
<tr class="even">
<td align="center">results = "hide"</td>
<td align="center">YES</td>
<td align="center">YES</td>
<td align="center">NO</td>
</tr>
<tr class="odd">
<td align="center">include = FALSE</td>
<td align="center">YES</td>
<td align="center">NO</td>
<td align="center">NO</td>
</tr>
</tbody>
</table></div>
<p><br></p>
<p>You can also mix and match rules to get the code/output to display as you want. It takes a little getting used to at first but if in doubt, just ask.</p>
<div class="webex-solution">
<button>
Portfolio Point - autocompletes
</button>
<div class="info">
<p>
You can use RStudio's autocomplete (the tab button) to see the different options for the different rules. For example, type <code>include =</code> and then hit the tab button on your keyboard. You should see the options of <code>TRUE</code> or <code>FALSE</code>.
</p>
<p>
Autocomplete also works for a lot of functions you can't quite remember how to spell as well. gg-what? gg-{tab button}... Ah yes, <code>ggplot()</code>.
</p>
</div>
</div>
<p><br></p>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Quickfire Questions</span></p>
<p>You've got a large dataset of thousands of participants' personality and happiness scores that you want to analyse and present in RMarkdown.</p>
<ul>
<li><p>You want to show the code you are running in your analysis but not show the output as this would be too much to display. Note that you want the code to run. Type in the box (e.g. <code>rule = set</code>) how you would set the <code>results</code> rule to do this? <input class="webex-solveme nospaces" size="20" data-answer='["results = \"hide\""]'></p></li>
<li><p>You create a plot of happiness versus neuroticism scores but you want to hide the code and only show the output. How can you do this? <select class="webex-select"><option value="blank"></option>
<option value="">echo = TRUE</option>
<option value="">include = FALSE</option>
<option value="">code = HIDE</option>
<option value="answer">echo = FALSE</option></select></p></li>
</ul>
<div class="webex-solution">
<button>
Explain This - I don't understand these answers
</button>
<div class="info">
<p>
The first answer should be <code>results = "hide"</code> as you want to show the code and run the code but not necessarily show the output of the code.
</p>
<p>
In the second question, <code>include = FALSE</code> technically would hide the code, but this also hides the output! <code>echo = FALSE</code> allows you to still see your plot while hiding the code you want hidden. <code>code = HIDE</code> - if only it were that simple!
</p>
<p>
Remember, the aim of these questions aren't to help you memorise these codes (no one can do that!); they're to help you gain a better understanding of how to apply these codes when you come across them in the future.
</p>
</div>
</div>
<p><br></p>
<ul>
<li>True or False, writing <code>echo = TRUE</code> has the same effect on the output of a code chunk as if you had no echo rule at all: <select class="webex-select"><option value="blank"></option>
<option value="answer">TRUE</option>
<option value="">FALSE</option></select>
</li>
</ul>
<div class="webex-solution">
<button>
Explain This - Echo True or Not at all
</button>
<div class="info">
<p>
All of the code chunk rules have a default option. For example, <code>echo</code>, <code>include</code>, and <code>eval</code> are usually by default set to <code>TRUE</code>. As a result, if you don't set any <code>echo</code> rule, i.e. you don't specifically set <code>echo = FALSE</code> in your code chunk, then it is the same as setting <code>echo = TRUE</code>. So not specifying an option will give you the default setting for that option.
</p>
</div>
</div>
<p><br></p>
<ul>
<li>True or False, there is no difference between setting <code>results = "hide"</code> and <code>eval = FALSE</code> as they both hide the output: <select class="webex-select"><option value="blank"></option>
<option value="">TRUE</option>
<option value="answer">FALSE</option></select>
</li>
</ul>
<div class="webex-solution">
<button>
Explain This - What's the difference?
</button>
<div class="info">
<p>
With setting <code>results = "hide"</code>, the code is evaluated and results are produced but the output is hidden. With setting <code>eval = FALSE</code>, the code is not evaluated and therefore no results or output have been produced. If you need your output for a later part of the code then you would might use <code>results = "hide"</code>. If you don't need the output and just want to show the code as an example then you might use <code>eval = FALSE</code>.
</p>
</div>
</div>
</div>
<div id="adding-inline-code" class="section level3" number="1.2.5">
<h3>
<span class="header-section-number">1.2.5</span> Adding Inline Code<a class="anchor" aria-label="anchor" href="#adding-inline-code"><i class="fas fa-link"></i></a>
</h3>
<p>An alternative way to add code to a report is through what is called using <strong>inline code</strong>. With inline code you don't use a code chunk. Instead the code appears <strong>inline</strong> with the text. Inline code can be inserted using a back-tick, then the letter <code>r</code>, followed by a space, then the code you want to include, then finally another back-tick. For example, writing <code>`r 2 + 2`</code> would return the answer <strong>4</strong> when you knit the file instead of showing the code. Remember, you do not do this inside a code chunk, you do this in line with your text, e.g.:
<br><br><strong>"We ran <code>`r 2+2`</code> people".</strong>
<br><br>
Which when knitted becomes:
<br><br><strong>"We ran 4 people".</strong></p>
<p>So inline coding is really useful if you want to do calculations <strong>within your text</strong> or insert values into text, say from a dataframe, to make an informative sentence. We will look at more complex examples later in the labs but again this is a really useful tool for writing manuscripts through R Markdown the more comfortable you get with it.</p>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Quickfire Questions</span></p>
<ul>
<li><p>You need <select class="webex-select"><option value="blank"></option>
<option value="">Two</option>
<option value="">One</option>
<option value="answer">Three</option></select> back tick(s) to insert <strong>code chunks</strong></p></li>
<li><p>Why is this inline code, <code>`{r} 6 * 8`</code> , not going to show the calculated answer when you knit the file? Try editing the code line in Rmarkdown and knitting it to get it to work. <select class="webex-select"><option value="blank"></option>
<option value="">You need a space between each back tick and the code</option>
<option value="">Inline code cannot complete calcuations</option>
<option value="answer">Curly brackets around the r are only needed for code chunks</option></select></p></li>
</ul>
<div class="webex-solution">
<button>
Explain This - Why are these answers correct?
</button>
<div class="info">
<ul>
<li>
<p>
All code chunks start and end with three back-ticks.
</p>
</li>
<li>
<p>
Inline coding does not use the curly brackets around the <code>r</code>.
</p>
</li>
<li>
<p>
All you need for inline coding is a back-tick, r, space, code, and a final back-tick.
</p>
</li>
</ul>
</div>
</div>
</div>
<div id="formatting-the-r-markdown-file" class="section level3" number="1.2.6">
<h3>
<span class="header-section-number">1.2.6</span> Formatting the R Markdown File<a class="anchor" aria-label="anchor" href="#formatting-the-r-markdown-file"><i class="fas fa-link"></i></a>
</h3>
<p>The last thing we want to show you in this preclass activity is how to format your text.</p>
<p>When you're not writing in code chunks you can format your document in lots of different ways just like you would in a Word document (or other expensive license-based software). The <a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf" target="_blank">R Markdown cheatsheet</a> provides lots of information about how to do this but we will show you a couple of things that you might want to try out.</p>
<p>We can make text <strong>bold</strong> by including two ** (two asterisks) at the start and end of the text we want to present in bold font. For example:
<br><br>
"We ran **4 people**.
<br><br>
Which when knitted becomes:
<br><br>
"We ran <strong>4 people</strong>".
<br><br><strong>Now write some text in your Rmd file and put it in bold.</strong> Knit the file to check it worked.</p>
<p>You could also try using italics by putting a single * (asterisk) at the start and end of the word or sentence. <strong>Try this now.</strong> Here is an example to help.
<br><br>
"We ran *4 people*.
<br><br>
Which when knitted becomes:
<br><br>
"We ran <em>4 people</em>".
<br><br></p>
<p><strong>Note:</strong> italics can be difficult to read for many people and as such we have tried to avoid using it in this book. If you find some italics, where it is not necessary, please let us know and claim your reward of a packet of minstrels. Yes, a whole packet!</p>
<p>Finally, you might want to add headings and sub-headings to your file. For example, maybe you are writing a Psychology journal article and want to put in a header for the Introduction, Methods, Results, or Discussion sections. We do this using the # (hashtag) symbol as shown in Figure <a href="starting-with-r-markdown.html#fig:img-header-levels">1.10</a>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-header-levels"></span>
<img src="images/s01-lab01/preclass/rmd_hashtag.png" alt="Inputting different Header levels using #s" width="100%"><p class="caption">
Figure 1.10: Inputting different Header levels using #s
</p>
</div>
<p><br><strong>Now, type the four main sections found in a Psychology journal article in your R Markdown file, typing each one in a separate line</strong>. These are mentioned above. Knit the file. What do these look like?</p>
<p><strong>Now add a different number of #'s before each heading</strong>, with a space between the heading and the hashtag (e.g. # Introduction) and knit the file again. What do you notice about the different number of hashtags?</p>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Quickfire Questions</span></p>
<ul>
<li><p>If * puts words into italics, and ** puts words into bold, type in the box what might you put before (and technically after) a word to put it into italics with bold? <input class="webex-solveme nospaces" size="3" data-answer='["***"]'></p></li>
<li><p>True or False: The <strong>more</strong> '#'s you include, the <strong>smaller</strong> the header is: <select class="webex-select"><option value="blank"></option>
<option value="answer">TRUE</option>
<option value="">FALSE</option></select></p></li>
<li><p>From the options, the most common order of headings found in a Psychology Journal are: <select class="webex-select"><option value="blank"></option>
<option value="">Discussion, Introduction, Methods, Results</option>
<option value="">Discussion, Results, Methods, Introduction</option>
<option value="answer">Introduction, Methods, Results, Discussion</option>
<option value="">Introduction, Results, Methods, Discussion</option></select></p></li>
</ul>
<div class="webex-solution">
<button>
Explain This - I don't get these answers
</button>
<div class="info">
<p>
If * at the start and end of the word puts it in italics (e.g. <em>italics</em>) and ** puts it in bold (e.g. <strong>bold</strong>), then putting three *** at the start and end will put it in italics with bold (e.g. <strong><em>italics-bold</em></strong>).
</p>
<p>
It is true that the more #'s you use, the smaller the heading is. Word and other document writers use different headings as well. Here, # gives the biggest heading, and it gets smaller and smaller with every extra #.
</p>
<p>
Finally, in Psychology, the vast majority of journal articles are written in the format of: Introduction, Methods, Results, Discussion. This format does not always hold as some journals ask authors to use a different format, depending how much emphasis that journal (erroneously) likes to put on results over hypothesis and methods. We however teach the order stated above. The question and approach is always as important, if not more so, than the results! Which of course you know from learning about Registered Reports in the labs and lectures.
</p>
</div>
</div>
<p><br></p>

</div>
</div>
<div id="r-markdown-application" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> R Markdown Application<a class="anchor" aria-label="anchor" href="#r-markdown-application"><i class="fas fa-link"></i></a>
</h2>
<div id="r-markdown-and-the-experimental-design-portfolio" class="section level3" number="1.3.1">
<h3>
<span class="header-section-number">1.3.1</span> R Markdown and The Experimental Design Portfolio<a class="anchor" aria-label="anchor" href="#r-markdown-and-the-experimental-design-portfolio"><i class="fas fa-link"></i></a>
</h3>
<p>We are going to create a R Markdown from scratch. This is also a start to create your own <strong>Experimental Design and Analysis Portfolio</strong> through R Markdown. The aim of this portfolio is to consolidate your learning in experimental design and analysis, allowing you to reflect back on how your learning has progressed. You should add to it whenever you think "Oh that is a good tip!" or "That is something I want to remember!". Do this each chapter as a way to consolidate knowledge. Your portfolio is for you and will not be assessed or marked in anyway. It is your learning aid to help you develop your understanding of research methods and analysis in Psychology.</p>
<p>Across the following nine tasks, we will help you to structure and format R Markdown files; you can then apply what you learn here to your portfolio in your own time. Let's begin!</p>
<div class="webex-solution">
<button>
Portfolio Point - Things you could include
</button>
<div class="info">
<p>
Throughout this book you will see these Portfolio Points. These are just points we would suggest that you add to your portfolio. Ultimately, it is up to you what you keep in your portfolio, but here are some examples of the kind of things we would recommend you include:
</p>
<ul>
<li>
Key points about classic experiments
<ul>
<li>
their main goal, outcome, authors, year
</li>
<li>
a top tip is to write a short summary after every paper you read, including the authors' names to help you consolidate that information
</li>
</ul>
</li>
<li>
Aspects of your Reports' designs and analyses
<ul>
<li>
what decisions you made and why; how they compare to other studies.
</li>
</ul>
</li>
<li>
Glossary points for R code functions
<ul>
<li>
For codes you find more challenging to understand the function of
</li>
<li>
For codes you might use more frequently in future activities
</li>
<li>
We are developing a glossary which you can send us items to include or get involved with. It is still in development but you can see it here <a href="https://psyteachr.github.io/glossary/" target="_blank">https://psyteachr.github.io/glossary/</a>.
</li>
</ul>
</li>
<li>
Reflection Points on what you have learned each week.
</li>
</ul>
</div>
</div>
</div>
<div id="the-ponzo-illusion-and-age" class="section level3" number="1.3.2">
<h3>
<span class="header-section-number">1.3.2</span> The Ponzo Illusion and Age<a class="anchor" aria-label="anchor" href="#the-ponzo-illusion-and-age"><i class="fas fa-link"></i></a>
</h3>
<p>The activities in this chapter will make use of an <strong>open dataset</strong>.</p>
<div class="webex-solution">
<button>
Explain This - What is an open dataset?
</button>
<div class="info">
<p>
An open dataset is made available for everyone to see and is stored on the internet for other researchers to use. In the previous section, you saw an example of this at the very start in the PLOS One article. Many journals now ask researchers to make their data available or to post it somewhere accessible like the <a href="https://www.osf.io" target="_blank">Open Science Framework</a>.
</p>
<p>
Interestingly, the art of making your data available was standard in classic older articles. The data we are using today comes from 1967. Sometime between then and more recent times, data started being made unavailable - closed. We believe all data should be made available and will encourage you to do that over the coming years. Transparent science is Open Science!
</p>
</div>
</div>
<p><br>
The data we will use today is from a paper looking at the <strong>Ponzo illusion</strong> and Age:</p>
<p><strong>Leibowitz, H. W. &amp; Judisch, J. M. (1967). The Relation between Age and the Magnitude of the Ponzo Illusion. The American Journal of Psychology, 80(1), 105-109.</strong> It can be accessed on campus (University of Glasgow) through <a href="https://www.jstor.org/stable/1420548?seq=1#page_scan_tab_contents" target="_blank">this link</a>. Off campus you can sign in to read it through the University of Glasgow library if you are a student at Glasgow.</p>
<p>The basics of the Ponzo illusion (<a href="https://en.wikipedia.org/wiki/Ponzo_illusion" target="_blank">Wikipedia page</a>) is that two lines of the same size are viewed as being of different length based on surrounding information - like sleepers on a traintrack. See Figure 1 of Leibowitz and Judisch (1967) for an example (P106). The authors showed people two vertical lines surrounded by differing horizontal lines running at angles behind the main vertical lines. The authors varied the size of one of the vertical lines (left line) and asked the participants to judge which of the two vertical lines was bigger or longer; the left line (variable) or the right one (standard). The paper also tested how this illusion was influenced by age. For more info, see the paper. Operationalising the dependent variable, Leibowitz &amp; Judisch measured what size the left line had to be to be considered the same size as the standard line on the right. The data we will be using can be seen on page 107, and includes:</p>
<ul>
<li>Which Group participants were assigned to according to age, with each group being made of 10 participants of the same sex</li>
<li>The Sex of the Group</li>
<li>The Mean Age of the Group</li>
<li>The Mean Length of the left vertical line</li>
</ul>
</div>
<div id="Ch1InClassQueT1" class="section level3" number="1.3.3">
<h3>
<span class="header-section-number">1.3.3</span> Task 1: Setting up Your R Markdown Portfolio<a class="anchor" aria-label="anchor" href="#Ch1InClassQueT1"><i class="fas fa-link"></i></a>
</h3>
<p>As above our overall goal is to make a reproducible "report" summarising the data in the Leibowitz and Judisch (1967) paper. Let's begin!</p>
<ol style="list-style-type: decimal">
<li>Create a new R Markdown document.</li>
<li>Give it a title, e.g. <strong>My Psychology Research Methods Portfolio</strong>
</li>
<li>Enter your <strong>GUID</strong> or name as the author</li>
<li>Set the output as <strong>HTML</strong>.</li>
</ol>
<div class="webex-solution">
<button>
Helpful Hint
</button>
<div class="info">
<p>
Throughout the labs you will see these Helpful Hints. Usually the solutions are nearby or at the end of the chapter to prevent temptation.
</p>
<p>
In setting up this Rmd file, if you have followed these steps correctly, you will probably see a new R Markdown file with a header containing the title, author, date and output information as shown in the previous section.
</p>
<p>
If you don't see the document header, then you've probably created an R Script instead. Refer back to the R Markdown Basics activity above and try again. Look further down the list of File options on the top menu.
</p>
</div>
</div>
<p><br>
You can now remove the parts of the generic R Markdown code that we do not need; anything <strong>after</strong> the <code>setup</code> code chunk can be removed (see Figure <a href="starting-with-r-markdown.html#fig:img-setup-chunk">1.3</a>). So anything after line 11 can be removed. Leave the first code chunk however - lines 8 to 10 - as these lines make R Markdown show code chunks unless otherwise specified - note the <code>echo =  TRUE</code>.</p>
<div class="webex-solution">
<button>
Portfolio Point - Code Chunk Reminders
</button>
<div class="info">
<p>
Write a reminder somewhere in your portfolio about what a code chunk is. Writing it in your own notes somewhere accessible to you will mean you can find it more easily.
</p>
</div>
</div>
</div>
<div id="Ch1InClassQueT2" class="section level3" number="1.3.4">
<h3>
<span class="header-section-number">1.3.4</span> Task 2: Give your Report a Heading<a class="anchor" aria-label="anchor" href="#Ch1InClassQueT2"><i class="fas fa-link"></i></a>
</h3>
<p>We are going to start off your portfolio with creating a brief report on Leibowitz and Judisch (1967), so we should give it a heading.</p>
<ol style="list-style-type: decimal">
<li>After the <code>setup</code> code chunk, give your report a heading, e.g. <strong>Lab 1 - The Magnitude of the Ponzo Illusion varies as a function of Age</strong>.</li>
<li>Using hashtags, give this heading a <strong>Header 1</strong> size.</li>
</ol>
<div class="webex-solution">
<button>
Helpful Hint - Hashtags are not just for social media
</button>
<div class="info">
<p>
Remember that the fewer the number of hashtags the larger the heading size.
</p>
</div>
</div>
</div>
<div id="Ch1InClassQueT3" class="section level3" number="1.3.5">
<h3>
<span class="header-section-number">1.3.5</span> Task 3: Creating a Code Chunk<a class="anchor" aria-label="anchor" href="#Ch1InClassQueT3"><i class="fas fa-link"></i></a>
</h3>
<p>We are going to need the data soon so best to bring it in at the start of our code.</p>
<ol style="list-style-type: decimal">
<li>Set your working directory: <strong><code>Session &gt;&gt; Set Working Directory &gt;&gt; Choose Directory</code></strong>
</li>
</ol>
<div class="webex-solution">
<button>
Portfolio Point - Set Working Directory
</button>
<div class="info">
<p>
One of the most common issues we see with people using Rstudio is that they forget to set their working directory to the folder containing the data file they are working on. This means that when you try to knit or run a code line it won't work because Rstudio doesn't know where the data is. Remember to set your working directory at the start of each session, using <strong><code>Session &gt;&gt; Set Working Directory &gt;&gt; Choose Directory</code></strong>
</p>
<p>
Avoid using code to set your working directory as often this will only work on your machine and not others and is therefore not fully reproducible without editing the script.
</p>
</div>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Download the data for this lab in a zip file by clicking <a href="./data/01-s01/inclass/PonzoAgeData.zip">this link</a>. Unzip it and save it to the folder you are working in.</li>
<li>Create a new code chunk in your R Markdown script, give this code chunk the name <code>load_data</code>.</li>
<li>Copy and paste the code below into your code chunk. Spend a couple of minutes with a partner reminding yourself what the code does. The answer is in the hint below.</li>
<li>Now, add or change the <code>echo</code> rule in your code chunk so that when you knit the file, the code <strong>will not be included</strong> in the final document.</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://tidyverse.tidyverse.org">"tidyverse"</a></span><span class="op">)</span>
<span class="va">ponzo_data</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"PonzoAgeData.csv"</span><span class="op">)</span></code></pre></div>
<p><strong>Knit the document now and see what the output looks like. It will ask you to save the file somewhere. Remember that on the Boyd Orr Lab PCs this is best done on your M: drive, given available space.</strong></p>
<p><strong>Important</strong>: There is a good chance that, on the webpage that you have knitted, you will see either some warnings or messages. You can suppress these using the <code>message</code> and <code>warning</code> rules within the code chunks as well. Try this now - the PreClass Activities and the R-Markdown cheatsheet will help.</p>
<div class="webex-solution">
<button>
Helpful Hint - What was all that?
</button>
<div class="info">
<p>
<strong>Hints:</strong>
</p>
<ul>
<li>
Step 4 - echo can equal TRUE or FALSE.
</li>
<li>
Remember to separate rules in the code chunk with commas. E.g. {r, rule1 = FALSE, rule2 = TRUE}
</li>
</ul>
<p>
<strong>What does the code do?</strong>
</p>
<ol style="list-style-type: decimal">
<li>
Line 1 loads the <code>tidyverse</code> packages and all associated packages e.g. <code>dplyr</code>, <code>readr</code> and <code>ggplot2</code>. You have used these in Level 1 Grassroots book - we will recap a lot of that in the coming labs.<br>
</li>
<li>
Line 2 loads in the data using the <code>read_csv()</code> function and stores it in <code>ponzo_data</code>.
</li>
</ol>
<p>
<strong>Important points to note:</strong>
</p>
<ul>
<li>
<code>ponzo_data</code> could have been called anything but best to call it something that makes it clear what it is. Only rule is no spaces in the name. <code>ponzo_data</code> and <code>ponzo.data</code> are acceptable, and different from each other. <code>ponzo data</code> is not acceptable and will crash the code.
</li>
<li>
<code>read_csv()</code> is actually in the <code>readr</code> package and is available to you only after you have loaded in <code>tidyverse</code> through <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code>. We will <strong>always</strong> tell you to use <code>read_csv()</code> to read in data from a csv file. There are other codes that load in data - one very similar one is <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>. They work differently. Only ever use <code>read_csv()</code> in your Psychology labs unless otherwise instructed.
</li>
<li>
remember <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> essentially means <code>assign this to that</code>. Assigning the ponzo data to the table <code>ponzo_data</code> can actually can be written the other way around - <code>read_csv("PonzoAgeData.csv") -&gt; ponzo_data</code> - but convention usually puts it the way we have in the code.
</li>
</ul>
</div>
</div>
</div>
<div id="Ch1InClassQueT4" class="section level3" number="1.3.6">
<h3>
<span class="header-section-number">1.3.6</span> Task 4: Writing your Report<a class="anchor" aria-label="anchor" href="#Ch1InClassQueT4"><i class="fas fa-link"></i></a>
</h3>
<p>Let's start giving this brief report some information and structure as we would a full report.</p>
<ol style="list-style-type: decimal">
<li>Underneath the code chunk you entered, put a new heading called <strong>Introduction</strong> and give it a <strong>Header 2</strong> size.</li>
<li>Next, do a little research on the <strong>Ponzo Illusion</strong> and write a sentence or two describing how it works and what it tells us; include a citation to support your research. There is a link to the wikipedia page on the illusion at the top of this section which might help.</li>
<li>Finally, copy the text in the box below into your report and finish the text by putting the names of two hypotheses behind the illusion below the sentence in an <strong>ordered list</strong> style; i.e. 1... 2..., etc. The two hypotheses are <strong>The Framing hypothesis</strong> and <strong>The Perspective hypothesis</strong>.</li>
</ol>
<pre><code>"There are two underlying hypotheses that may explain the Ponzo Illusion. These are: ..."</code></pre>
<div class="webex-solution">
<button>
Helpful Hint - Lists
</button>
<div class="info">
<p>
Lists can be tricky to begin with but are very straightforward once you know the key points.
</p>
<ul>
<li>
The list begins after a blank line after any text. If you start the list without leaving a blank line at the top it won't work.
</li>
<li>
Each point starts with an asterisk (*) or by an integer and full-stop (e.g. <code>1.</code>)
</li>
<li>
You must have a space after the * or 1. before writing your point.
</li>
<li>
Each point is a new line.
</li>
<li>
To stagger points on a list (i.e. indent), leave 4 blank spaces (two tabs) and then put your * etc.
</li>
</ul>
</div>
</div>
<p><br></p>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Quickfire Question</span></p>
<p>Here are a couple of questions to try out in your group to remind you about using citations:</p>
<p>When writing a report, how would you cite:</p>
<ul>
<li>Papers with <strong>five</strong> authors on the <strong>first</strong> mention? <select class="webex-select"><option value="blank"></option>
<option value="">Author 1, Author 2, Author 3, Author 4, &amp; Author 5</option>
<option value="">Author 1, Author 2, Author 3, Author 4, &amp; Author 5, Year</option>
<option value="answer">Author 1 et al., Year</option></select>
</li>
<li>Papers with <strong>five</strong> authors on the <strong>second</strong> mention? <select class="webex-select"><option value="blank"></option>
<option value="">Author 1, Author 2, Author 3, Author 4, &amp; Author 5</option>
<option value="">Author 1, Author 2, Author 3, Author 4, &amp; Author 5, Year</option>
<option value="answer">Author 1 et al., Year</option></select>
</li>
<li>Papers with <strong>seven</strong> authors on the <strong>first</strong> mention? <select class="webex-select"><option value="blank"></option>
<option value="">Author 1, Author 2, Author 3, Author 4, Author 5, Author 6, &amp; Author 7</option>
<option value="">Author 1, Author 2, Author 3, Author 4, Author 5, Author 6, &amp; Author 7, Year</option>
<option value="answer">Author 1 et al., Year</option></select>
</li>
<li>Papers with <strong>two</strong> authors in a citation? <select class="webex-select"><option value="blank"></option>
<option value="answer">(Author 1 &amp; Author 2)</option>
<option value="">(Author 1 et al., Year)</option></select>
</li>
<li>
<strong>Two</strong> papers in <strong>one</strong> paretheses? <select class="webex-select"><option value="blank"></option>
<option value="">Order chronologically according to year, separated by a semi-colon</option>
<option value="answer">Order alphabetically according to first author surname, separated by a semi-colon</option></select>
</li>
<li>
<strong>Two</strong> papers of the <strong>same</strong> author? <select class="webex-select"><option value="blank"></option>
<option value="">Order chronologically according to year, separated by a semi-colon</option>
<option value="answer">Order chronologically according to year, separated by a comma</option>
<option value="">Order alphabetically by adding a letter to each year</option></select>
</li>
</ul>
<!-- Those questions about citations may throw you a little. In late 2019, the APA Style Guide 7th edition was released. One of the biggest changes here was that for papers of three or more authors, the citation would only show the first author and the year, as opposed to listing all authors on first citation. Two author papers and single author papers still always show all authors. For more information on how to format citations, you can look at the highly recommended <a href = "https://apastyle.apa.org/style-grammar-guidelines/citations/basic-principles/author-date" target = "_blank">APA Style blog</a>. -->
</div>
<div id="Ch1InClassQueT5" class="section level3" number="1.3.7">
<h3>
<span class="header-section-number">1.3.7</span> Task 5: Making Text Bold or Italicized<a class="anchor" aria-label="anchor" href="#Ch1InClassQueT5"><i class="fas fa-link"></i></a>
</h3>
<p>Sometimes we want to add some emphasis to text.</p>
<ol style="list-style-type: decimal">
<li>In your report, format the line <code>There are two underlying hypotheses...</code> in bold. Answering the below question might help you remember how.</li>
</ol>
<p><span style="font-size: 22px; font-weight: bold; color: var(--green);">Quickfire Question</span></p>
<ul>
<li>Bold text and italicized text are created similarly, how do you create italicized text? <select class="webex-select"><option value="blank"></option>
<option value="">* (before text)</option>
<option value="">** (before and after text)</option>
<option value="answer">* (before and after text)</option>
<option value="">** (before text)</option></select>
</li>
</ul>
<p><strong>It's a good idea to <code>knit</code> the file at this point to make sure the codes are all working correctly.</strong></p>
</div>
<div id="Ch1InClassQueT6" class="section level3" number="1.3.8">
<h3>
<span class="header-section-number">1.3.8</span> Task 6: Adding Links to the Data in your Methods<a class="anchor" aria-label="anchor" href="#Ch1InClassQueT6"><i class="fas fa-link"></i></a>
</h3>
<p>Good practice in a Report is to include information about where we got the data from.</p>
<ol style="list-style-type: decimal">
<li>Create a new heading below your list of the two hypotheses and call it <strong>Methods</strong>. Set it as <strong>Header 2</strong> size.</li>
<li>Below <strong>Methods</strong> write a new heading called <strong>Data</strong> and set it as <strong>Header 3</strong> size.</li>
<li>Underneath the Methods heading, copy and paste in the below sentence and turn the citation into an internet link to the paper.</li>
</ol>
<blockquote>
<p>"The data in this report was obtained from within the original paper (Lebowitz &amp; Judisch, 1967). "</p>
</blockquote>
<p><strong>Now knit your document again to make sure your formatting is working. Titles should be bigger than normal text and the list should be indented and have numbers at the start of each line.</strong></p>
<div class="webex-solution">
<button>
Helpful Hint - Adding links
</button>
<div class="info">
<p>
You can get the web address by following the link to the paper shown towards the beginning of this lab activity. Include the https part.
</p>
<p>
Use the R Markdown cheatsheet to see how to insert links. It has something to do with square brackets [] and circular brackets () next to each other.
</p>
</div>
</div>
</div>
<div id="Ch1InClassQueT7" class="section level3" number="1.3.9">
<h3>
<span class="header-section-number">1.3.9</span> Task 7: Adding an Image to your Methods<a class="anchor" aria-label="anchor" href="#Ch1InClassQueT7"><i class="fas fa-link"></i></a>
</h3>
<p>For certain studies, you may want to add an image to the Methods section, either of the stimuli, of the materials, or of the procedure. If you look at the R Markdown cheatsheet you'll see that adding an image is very similar to adding a link, the only difference is the exclamation mark, <code><a href="https://rdrr.io/r/base/Logic.html">!</a></code>, beforehand. Surprising, I know!</p>
<p>For now we will just add an image of the illusion taken from the internet to illustrate how to add images to our documents.</p>
<ol style="list-style-type: decimal">
<li>Below the sentence you added for Task 6, add a new heading called <strong>Stimuli</strong> and set it as <strong>Header 3</strong> size.</li>
<li>Below the <strong>Stimuli</strong> heading, insert the image at the following web address:</li>
</ol>
<pre><code>https://upload.wikimedia.org/wikipedia/en/8/89/Ponzo_Illusion.jpg</code></pre>
<div class="webex-solution">
<button>
Portfolio Point - A good methods section
</button>
<div class="info">
<p>
Remember that a good methods section will contain all the necessary information that would be required for another researcher to replicate your experiment exactly! It would normally be split into three sections including Participants, Materials, and Procedure.
</p>
<p>
This may sound very obvious but you would be surprised at how many Methods sections don't give enough information for replicating the study. Articles tend to have word counts - just like your assignments. Authors have tended to cut words where they can to fit in further discussion or more results. Methods sections have suffered as a result. But no more!
</p>
</div>
</div>
</div>
<div id="Ch1InClassQueT8" class="section level3" number="1.3.10">
<h3>
<span class="header-section-number">1.3.10</span> Task 8: Adding a Table to your Results<a class="anchor" aria-label="anchor" href="#Ch1InClassQueT8"><i class="fas fa-link"></i></a>
</h3>
<p>Another benefit of R Markdown is that you can insert tables of results directly into your report without having to format them - though for aesthetics you will want to learn how to format tables eventually. But for now...</p>
<ol style="list-style-type: decimal">
<li>Create a new heading below your methods sentence, called <strong>Results</strong> and format it as <strong>Header 2</strong> size.</li>
<li>Add a new code chunk and give it the name <code>table</code>, and include the code shown below. The first part of the code <code>my_table &lt;- group_by %&gt;% summarise</code> creates the table and stores it in <code>my_table</code>. The second part of the code <code>my_table</code> calls the table. Calls means <code>to display or to show me</code> in this sense.</li>
<li>Add an <code>echo</code> rule so that the code <strong>IS NOT</strong> included in the final document but the ouput table <strong>is</strong> included.</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_table</span> <span class="op">&lt;-</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">ponzo_data</span>, <span class="va">Sex</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">summarise</span><span class="op">(</span>NofGroups<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span>, mean_length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">ComparisonLength</span><span class="op">)</span><span class="op">)</span>

<span class="va">my_table</span></code></pre></div>
<p><strong>Now, knit your document to see what you have produced. You should not see the above code, just the output table.</strong></p>
</div>
<div id="Ch1InClassQueT9" class="section level3" number="1.3.11">
<h3>
<span class="header-section-number">1.3.11</span> Task 9: Adding a Figure to your Results<a class="anchor" aria-label="anchor" href="#Ch1InClassQueT9"><i class="fas fa-link"></i></a>
</h3>
<p>Nearly all research reports have a figure so we will want to add one as well.</p>
<ol style="list-style-type: decimal">
<li>Underneath your <code>table</code> code chunk, add a new code chunk and give it the name <code>plot</code>.</li>
<li>Add the below code to the chunk and set the <code>include</code> rule so that both the code and the plot are included in the final report.</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">ponzo_data</span>, 
       <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Mean_Age</span>, y <span class="op">=</span> <span class="va">ComparisonLength</span>, color <span class="op">=</span> <span class="va">Sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="webex-solution">
<button>
Portfolio Point - To assign or to not assign
</button>
<div class="info">
<p>
You may notice above that we assigned our data in the table to <code>my_table</code> and then called <code>my_table</code> to show it. However, we didn't do that for the figure. We just put the code for the figure but did not assign it. Why?
</p>
<p>
There is no great answer and you could assign both or not assign either, and we will chop and change throughout the labs to show you the difference but the tendency is to assign tables but not assign figures. Simply because we often are creating the figures to show them and therefore assigning them and then calling them requires more code. Tables on the other hand are often stored to work on later, so it makes sense to assign them.
</p>
<p>
Again this is not a hard and fast rule and often we will assign figures but it just makes it quicker not to. If you ever do assign a figure remember to call it, or your figure won't be displayed!
</p>
</div>
</div>
<p><br></p>
<p><strong>Again, knit your document to make sure it is working correctly. Below your table you should now have the ggplot code followed by the nice scatterplot.</strong></p>
<p><span style="font-size: 22px; font-weight: bold; color: var(--purple);"> <strong>Thinking Cap Point</strong> </span></p>
<p>Have a think about the figure to answer the following question.</p>
<p>"Based on the distribution of the data, shown in the above Figure, ..." <select class="webex-select"><option value="blank"></option>
<option value="answer">as age increases, people perceive a shorter vertical line to be of same length as the standard vertical line</option>
<option value="">as age increases, people perceive a longer vertical line to be of same length as the standard vertical linge</option>
<option value="">There is no relationship between Age and the Ponzo illusion</option>
<option value="">This figure tells me nothing about the relationship between Age and the Ponzo illusion</option></select></p>
<div class="webex-solution">
<button>
Helpful Hint
</button>
<div class="info">
<p>
What does each dot represent in the Figure, and what is the pattern of the dots?
</p>
</div>
</div>
<p><br></p>
<p>We will learn more about how to improve the visualisations as we progress, but for now you have completed the bones of your first report! Compare your report to the one we have created to see if they match, which can be found at the end of this chapter or <a href="data/01-s01/inclass/ProducedPonzoTemplate.zip">click here to download the .Rmd file in a zip folder</a>. <strong>Fix anything that is not formatted as in our template.</strong></p>
<div class="webex-solution">
<button>
Portfolio Point - The Power of R Markdown and the ggplot Package
</button>
<div class="info">
<p>
Here is a real-world scenario of why plotting in R Markdown can save a lot of effort. Say you carried out an experiment, made a figure of the results using an R Script, and wrote up the report using Microsoft Word. Then you realised you forgot to include two participants. To fix this, you would have to re-run the R script, make a new plot, save the plot, and <strong>then</strong> transfer that to your Word document. However, had you used <strong>R Markdown</strong> to begin with and both analysis and report were in the same place, then you can simply update the code within the document and a new figure will be created in the exact same place as the old one. <strong>Magic!</strong>
</p>
<p>
The code above uses the <code>ggplot2</code> package you used before. This is the main package we use for plots, figures, visualisations, or however you like to call them. It can be called into the library by itself, or is automatically called in when you call in the <code>tidyverse</code> package. Later, we will revist <code>ggplot2</code> in more detail. For now, we are using it to make a scatterplot (<code>geom_point</code>) of Age (<code>Mean_Age</code>) and Comparison Length (<code>ComparisonLength</code>), and splitting the data for males and females.
</p>
</div>
</div>
<p><br></p>
<p><span style="font-size: 22px; font-weight: bold; color: var(--blue);">Job Done - Activity Complete!</span></p>
<p>Great work! We have now created a rough layout of a report. The only section we are missing is the Discussion where you relate the information from previous research to what your study showed. Feel free to add one in your own time; read the short summary at the end of the actual paper to help get your thoughts together. Well done on successfully creating your own R Markdown file!</p>
<p>To practice your newly acquired skills and really strengthen them, complete the exercise below.</p>

</div>
</div>
<div id="practice-your-skills" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> Practice Your Skills<a class="anchor" aria-label="anchor" href="#practice-your-skills"><i class="fas fa-link"></i></a>
</h2>
<p>This is a brief exercise for you to practice the skills taught in this chapter. In future assignments we will ask you to do some coding and interpretation, but for this exercise we just want you to familiarise yourself again with working with .Rmd files.</p>
<p>We have set up this task so that you can practice 1) downloading the assignment files, 2) renaming the files, 3) editing the .Rmd file, and 4) saving the edited .Rmd file.</p>
<p><strong>Download the files</strong></p>
<p>You will first need to download the file from the zip folder on Moodle and then open it in R through RStudio. For this exercise, you can also download <a href="data/01-s01/GUID_L2_Ch1_PracticeSkills.zip">the ZIP file here</a>.</p>
<p>Simply follow the instructions in the .Rmd document that you will find in the ZIP file. Enjoy!</p>

</div>
<div id="solutions-to-questions" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> Solutions to Questions<a class="anchor" aria-label="anchor" href="#solutions-to-questions"><i class="fas fa-link"></i></a>
</h2>
<p>Below you will find the solutions to the questions for the Activities for this chapter. Only look at them after giving the questions a good try and speaking to the tutor about any issues.</p>
<!-- ### InClass Activities -->
<div id="task-2-give-your-report-a-heading" class="section level3" number="1.5.1">
<h3>
<span class="header-section-number">1.5.1</span> Task 2: Give your Report a Heading<a class="anchor" aria-label="anchor" href="#task-2-give-your-report-a-heading"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>You should have used only one hashtag to give the biggest heading size.</li>
</ol>
<p><code># Lab 1 - The magnitude of the Ponzo Illusion varies as a function of Age</code></p>
<p><a href="starting-with-r-markdown.html#Ch1InClassQueT2">Return to Task</a></p>
</div>
<div id="task-3-creating-a-code-chunk" class="section level3" number="1.5.2">
<h3>
<span class="header-section-number">1.5.2</span> Task 3: Creating a Code Chunk<a class="anchor" aria-label="anchor" href="#task-3-creating-a-code-chunk"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>The <code>echo</code> rule, <code>warning</code> rule and <code>message</code> rule should all be set to <code>FALSE</code>. As such, the start of the code chunk should look like:</li>
</ol>
<div class="verbatim">
<pre class="sourceCode r"><code class="sourceCode R">```{r load_data, echo = FALSE, warning = FALSE, message = FALSE}</code></pre>
<pre class="sourceCode r"><code class="sourceCode R">```</code></pre>
</div>
<p><a href="starting-with-r-markdown.html#Ch1InClassQueT3">Return to Task</a></p>
</div>
<div id="task-4-writing-your-report" class="section level3" number="1.5.3">
<h3>
<span class="header-section-number">1.5.3</span> Task 4: Writing your Report<a class="anchor" aria-label="anchor" href="#task-4-writing-your-report"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>Task 4 is about setting a title to <code>Header 2</code> style. This is done via two <code>##</code> at the start of the line - before the word Introduction in this case but don't forget the space.</li>
</ol>
<p><code>## Introduction</code></p>
<p><strong>Worth noting:</strong> In basic R Scripts, <code>#</code> at the start of the line would result in turning the line into a <a class="glossary" target="_blank" title="You can annotate .R files or chunks in R Markdown files with comments by prefacing each line of the comment with one or more hash symbols (#)." href="https://psyteachr.github.io/glossary/c#comment">comment</a>. Here, in R Markdown, <code>#</code> sets the header size much like a Word document header</p>
<ol start="2" style="list-style-type: decimal">
<li>For the second part, create an ordered list by putting <code>1</code> followed by a <code>.</code> then a space before the first piece of information. A <code>2</code> then a <code>.</code> before the second, and so on. Note that lists will only work if there is a empty line above the list as well:</li>
</ol>
<pre><code>1. The Perspective Hypothesis
2. The Framing Hypothesis</code></pre>
<p><a href="starting-with-r-markdown.html#Ch1InClassQueT4">Return to Task</a></p>
</div>
<div id="task-5-making-text-bold-or-italicized" class="section level3" number="1.5.4">
<h3>
<span class="header-section-number">1.5.4</span> Task 5: Making Text Bold or Italicized<a class="anchor" aria-label="anchor" href="#task-5-making-text-bold-or-italicized"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>To turn text to bold you need to put two <code>**</code> at the start and end of the word or sentence you want as bold, e.g.</li>
</ol>
<pre><code>**make me bold**</code></pre>
<p><a href="starting-with-r-markdown.html#Ch1InClassQueT5">Return to Task</a></p>
</div>
<div id="task-6-adding-links-to-the-data-in-your-methods" class="section level3" number="1.5.5">
<h3>
<span class="header-section-number">1.5.5</span> Task 6: Adding Links to the Data in your Methods<a class="anchor" aria-label="anchor" href="#task-6-adding-links-to-the-data-in-your-methods"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>To set a header as <code>Header 2</code> style use <code>##</code> at the start of the line.</li>
<li>To set a header as <code>Header 3</code> style use <code>###</code> at the start of the line.</li>
<li>A link is created by putting the words you want to act as the link between <code>[]</code> and then the link immediately after in <code>()</code>. For example:</li>
</ol>
<pre><code>[Lebowitz and Judisch (2016)](https://www.jstor.org/stable/1420548?seq=1#page_scan_tab_contents)</code></pre>
</div>
<div id="task-7-adding-an-image-to-your-methods" class="section level3" number="1.5.6">
<h3>
<span class="header-section-number">1.5.6</span> Task 7: Adding an Image to your Methods<a class="anchor" aria-label="anchor" href="#task-7-adding-an-image-to-your-methods"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>To set a header as <code>Header 3</code> style use <code>###</code> at the start of the line.</li>
<li>An image is created by putting the words you want to act as the name of the image <code>[]</code> and then the link to the image immediately after in <code>()</code>. The key thing is to start with an exclamation mark <code><a href="https://rdrr.io/r/base/Logic.html">!</a></code>. For example:</li>
</ol>
<pre><code>![name](link)</code></pre>
<p>and therefore</p>
<pre><code>![The Ponzo Illusion](https://upload.wikimedia.org/wikipedia/en/8/89/Ponzo_Illusion.jpg)</code></pre>
<p><a href="starting-with-r-markdown.html#Ch1InClassQueT7">Return to Task</a></p>
</div>
<div id="task-8-adding-a-table-to-your-results" class="section level3" number="1.5.7">
<h3>
<span class="header-section-number">1.5.7</span> Task 8: Adding a Table to your Results<a class="anchor" aria-label="anchor" href="#task-8-adding-a-table-to-your-results"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>To set a header as <code>Header 2</code> style use <code>##</code> at the start of the line.</p></li>
<li><p>The code chunk heading should read as follows:</p></li>
</ol>
<div class="verbatim">
<pre class="sourceCode r"><code class="sourceCode R">```{r table, echo = FALSE}</code></pre>
<pre class="sourceCode r"><code class="sourceCode R">```</code></pre>
</div>
<p><a href="starting-with-r-markdown.html#Ch1InClassQueT8">Return to Task</a></p>
</div>
<div id="task-9-adding-a-figure-to-your-results" class="section level3" number="1.5.8">
<h3>
<span class="header-section-number">1.5.8</span> Task 9: Adding a Figure to your Results<a class="anchor" aria-label="anchor" href="#task-9-adding-a-figure-to-your-results"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>The code chunk heading should read as follows:</li>
</ol>
<div class="verbatim">
<pre class="sourceCode r"><code class="sourceCode R">```{r plot, include = TRUE}</code></pre>
<pre class="sourceCode r"><code class="sourceCode R">```</code></pre>
</div>
<p><a href="starting-with-r-markdown.html#Ch1InClassQueT9">Return to Task</a></p>
</div>
<div id="example-of-output-after-completing-all-activities" class="section level3" number="1.5.9">
<h3>
<span class="header-section-number">1.5.9</span> Example of output after completing all activities<a class="anchor" aria-label="anchor" href="#example-of-output-after-completing-all-activities"><i class="fas fa-link"></i></a>
</h3>
<p>This section shows the output that would be expected if you were to follow the inclass activities correctly.</p>
<ul>
<li>
<strong>Note:</strong> Headings in this comparison will appear one size smaller than if you were to knit the Rmd due to rendering. Do not worry if yours look a bit bigger, it is more that you have them as <strong>headers</strong> is the key part. Your output should match the output of knitting <a href="data/01-s01/inclass/ProducedPonzoTemplate.zip">the .Rmd document found here</a>.</li>
</ul>
<div id="the-magnitude-of-the-ponzo-illusion-varies-as-a-function-of-age" class="section level4 unnumbered">
<h4>The Magnitude of the Ponzo Illusion Varies as a Function of Age<a class="anchor" aria-label="anchor" href="#the-magnitude-of-the-ponzo-illusion-varies-as-a-function-of-age"><i class="fas fa-link"></i></a>
</h4>
</div>
<div id="introduction" class="section level4 unnumbered">
<h4>Introduction<a class="anchor" aria-label="anchor" href="#introduction"><i class="fas fa-link"></i></a>
</h4>
<p>The Ponzo Illusion is where...</p>
<p><strong>There are two underlying hypotheses that may explain the Ponzo Illusion. These are: </strong></p>
<ol style="list-style-type: decimal">
<li>The Framing hypothesis</li>
<li>The Perspective hypothesis</li>
</ol>
</div>
<div id="methods" class="section level4 unnumbered">
<h4>Methods<a class="anchor" aria-label="anchor" href="#methods"><i class="fas fa-link"></i></a>
</h4>
<div id="data" class="section level5 unnumbered">
<h5>Data<a class="anchor" aria-label="anchor" href="#data"><i class="fas fa-link"></i></a>
</h5>
<p>The data in this report was obtained from within the original paper, <a href="https://www.jstor.org/stable/1420548?seq=1#page_scan_tab_contents">Lebowitz and Judisch (2016)</a></p>
</div>
<div id="stimuli" class="section level5 unnumbered">
<h5>Stimuli<a class="anchor" aria-label="anchor" href="#stimuli"><i class="fas fa-link"></i></a>
</h5>
<div class="figure">
<img src="https://upload.wikimedia.org/wikipedia/en/8/89/Ponzo_Illusion.jpg" alt=""><p class="caption">PonzoIllusion</p>
</div>
</div>
</div>
<div id="results" class="section level4 unnumbered">
<h4>Results<a class="anchor" aria-label="anchor" href="#results"><i class="fas fa-link"></i></a>
</h4>
<div class="kable-table">
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">Sex</th>
<th align="right">NofGroups</th>
<th align="right">mean_length</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Female</td>
<td align="right">15</td>
<td align="right">3.574667</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="right">26</td>
<td align="right">3.606923</td>
</tr>
</tbody>
</table></div>
</div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">ponzo_data</span>, 
       <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Mean_Age</span>, y <span class="op">=</span> <span class="va">ComparisonLength</span>, color <span class="op">=</span> <span class="va">Sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:lab1-inclass-figure"></span>
<img src="01-s01-lab01e_files/figure-html/lab1-inclass-figure-1.png" alt="You won't have a caption. We will cover that later!" width="100%"><p class="caption">
Figure 1.11: You won't have a caption. We will cover that later!
</p>
</div>
<p><span style="font-size: 22px; font-weight: bold; color: var(--purple);">Chapter Complete!</span></p>

</div>
</div>
</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var psyteachr = ' <a href="https://psyteachr.github.io/"><img src="images/logos/psyteachr_logo.png" style="height: 31px; color: white;" alt="psyTeachR: Reproducible Research" /></a>';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    psyteachr + license + cite
  );
  
  // open rdrr links externally
  $("a[href^='https://rdrr.io']").click(function(){
    window.open(this.href);
    return false;
  });
  
  // visible second sidebar in mobile
  function move_sidebar() {
    var w = window.innerWidth;
    if (w < 992) {
      $("#toc").appendTo($("#main-nav"));
    } else {
      $("#toc").appendTo($("div.sidebar-chapter"));
    }
  }
  move_sidebar();
  window.onresize = move_sidebar;
});
</script><div class="chapter-nav">
<div class="prev"><a href="index.html">Overview</a></div>
<div class="next"><a href="data-wrangling-a-key-skill.html"><span class="header-section-number">2</span> Data-Wrangling: A Key Skill</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#starting-with-r-markdown"><span class="header-section-number">1</span> Starting with R Markdown</a></li>
<li>
<a class="nav-link" href="#overview-1"><span class="header-section-number">1.1</span> Overview</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#what-is-r-markdown"><span class="header-section-number">1.1.1</span> What is R Markdown?</a></li>
<li><a class="nav-link" href="#advantages-of-using-r-markdown"><span class="header-section-number">1.1.2</span> Advantages of using R Markdown</a></li>
<li><a class="nav-link" href="#creating-an-r-markdown-.rmd-file"><span class="header-section-number">1.1.3</span> Creating an R Markdown (.Rmd) File</a></li>
<li><a class="nav-link" href="#one-last-thing-before-beginning"><span class="header-section-number">1.1.4</span> One last thing before beginning!</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#r-markdown-basics"><span class="header-section-number">1.2</span> R Markdown Basics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#create-a-new-r-markdown-document"><span class="header-section-number">1.2.1</span> Create a new R Markdown document</a></li>
<li><a class="nav-link" href="#code-chunks"><span class="header-section-number">1.2.2</span> Code Chunks</a></li>
<li><a class="nav-link" href="#knitting-code"><span class="header-section-number">1.2.3</span> Knitting Code</a></li>
<li><a class="nav-link" href="#adding-code-chunk-rules-and-options"><span class="header-section-number">1.2.4</span> Adding Code Chunk Rules and Options</a></li>
<li><a class="nav-link" href="#adding-inline-code"><span class="header-section-number">1.2.5</span> Adding Inline Code</a></li>
<li><a class="nav-link" href="#formatting-the-r-markdown-file"><span class="header-section-number">1.2.6</span> Formatting the R Markdown File</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#r-markdown-application"><span class="header-section-number">1.3</span> R Markdown Application</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-markdown-and-the-experimental-design-portfolio"><span class="header-section-number">1.3.1</span> R Markdown and The Experimental Design Portfolio</a></li>
<li><a class="nav-link" href="#the-ponzo-illusion-and-age"><span class="header-section-number">1.3.2</span> The Ponzo Illusion and Age</a></li>
<li><a class="nav-link" href="#Ch1InClassQueT1"><span class="header-section-number">1.3.3</span> Task 1: Setting up Your R Markdown Portfolio</a></li>
<li><a class="nav-link" href="#Ch1InClassQueT2"><span class="header-section-number">1.3.4</span> Task 2: Give your Report a Heading</a></li>
<li><a class="nav-link" href="#Ch1InClassQueT3"><span class="header-section-number">1.3.5</span> Task 3: Creating a Code Chunk</a></li>
<li><a class="nav-link" href="#Ch1InClassQueT4"><span class="header-section-number">1.3.6</span> Task 4: Writing your Report</a></li>
<li><a class="nav-link" href="#Ch1InClassQueT5"><span class="header-section-number">1.3.7</span> Task 5: Making Text Bold or Italicized</a></li>
<li><a class="nav-link" href="#Ch1InClassQueT6"><span class="header-section-number">1.3.8</span> Task 6: Adding Links to the Data in your Methods</a></li>
<li><a class="nav-link" href="#Ch1InClassQueT7"><span class="header-section-number">1.3.9</span> Task 7: Adding an Image to your Methods</a></li>
<li><a class="nav-link" href="#Ch1InClassQueT8"><span class="header-section-number">1.3.10</span> Task 8: Adding a Table to your Results</a></li>
<li><a class="nav-link" href="#Ch1InClassQueT9"><span class="header-section-number">1.3.11</span> Task 9: Adding a Figure to your Results</a></li>
</ul>
</li>
<li><a class="nav-link" href="#practice-your-skills"><span class="header-section-number">1.4</span> Practice Your Skills</a></li>
<li>
<a class="nav-link" href="#solutions-to-questions"><span class="header-section-number">1.5</span> Solutions to Questions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#task-2-give-your-report-a-heading"><span class="header-section-number">1.5.1</span> Task 2: Give your Report a Heading</a></li>
<li><a class="nav-link" href="#task-3-creating-a-code-chunk"><span class="header-section-number">1.5.2</span> Task 3: Creating a Code Chunk</a></li>
<li><a class="nav-link" href="#task-4-writing-your-report"><span class="header-section-number">1.5.3</span> Task 4: Writing your Report</a></li>
<li><a class="nav-link" href="#task-5-making-text-bold-or-italicized"><span class="header-section-number">1.5.4</span> Task 5: Making Text Bold or Italicized</a></li>
<li><a class="nav-link" href="#task-6-adding-links-to-the-data-in-your-methods"><span class="header-section-number">1.5.5</span> Task 6: Adding Links to the Data in your Methods</a></li>
<li><a class="nav-link" href="#task-7-adding-an-image-to-your-methods"><span class="header-section-number">1.5.6</span> Task 7: Adding an Image to your Methods</a></li>
<li><a class="nav-link" href="#task-8-adding-a-table-to-your-results"><span class="header-section-number">1.5.7</span> Task 8: Adding a Table to your Results</a></li>
<li><a class="nav-link" href="#task-9-adding-a-figure-to-your-results"><span class="header-section-number">1.5.8</span> Task 9: Adding a Figure to your Results</a></li>
<li><a class="nav-link" href="#example-of-output-after-completing-all-activities"><span class="header-section-number">1.5.9</span> Example of output after completing all activities</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/psyteachr/analysis-v2/blob/master/book/01-s01-lab01a.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/psyteachr/analysis-v2/edit/master/book/01-s01-lab01a.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Analysis</strong>" was written by Phil McAleer, Carolina E. Kuepper-Tetzel, Helena Paterson. It was last built on 2021-11-17.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
